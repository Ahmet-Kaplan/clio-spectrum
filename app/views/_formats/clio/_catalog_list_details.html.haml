
= add_row('Title', document.get("title_vern_display"),:abbreviate => 100)
= add_row('Subtitle', [document.get("subtitle_display"),document.get("subtitle_vern_display")].compact,:abbreviate => 100)
= add_row('Author', [document.get("author_display"),document.get("author_vern_display")].compact)
= add_row('Published', document.get("full_publisher_display"))
- unless (urls =  online_link_hash(document)).empty?
  - non_circ = image_tag("icons/noncirc.png", :class => :availability)
  - urls = urls.collect { |link| non_circ + link_to(process_online_title(link.first).abbreviate(80), link.last) }
  - urls = urls.first if controller.controller_name == "search"
  = add_row('Online', urls)


- unless (locations = document["location_call_number_id_display"].listify.reject { |l| l.match(/^Online/) }).empty?
  .row
    .label Location
    .value 
      - locations = locations.first.listify if controller.controller_name == "search"
      - locations.each do |location|
        - loc_display, hold_id = location.split('|DELIM|')
        - holdings_id = "holding_" + hold_id.to_s
        %div
          = image_tag("icons/unknown.png", :class => "availability " + holdings_id) + edit_loc_display(loc_display)


= add_row('Format', formats_with_icons(document))
